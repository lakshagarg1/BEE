<div class="form-page">
  <div class="form-container">
    <div class="form-header">
      <div class="form-icon">
        <i class="fas fa-edit"></i>
      </div>
      <h1>Edit Note</h1>
      <p>Update your note content</p>
    </div>

    <form method="POST" action="/edit/<%= note.id %>" class="note-form">
      <div class="form-group">
        <label for="title">
          <i class="fas fa-heading"></i>
          Note Title
        </label>
        <input 
          type="text" 
          id="title" 
          name="title" 
          value="<%= note.title %>"
          required
          class="form-input"
        >
      </div>

      <div class="form-group">
        <label for="category">
          <i class="fas fa-tag"></i>
          Category
        </label>
        <input 
          type="text" 
          id="category" 
          name="category" 
          value="<%= note.category %>"
          class="form-input"
          list="category-suggestions"
        >
        <datalist id="category-suggestions">
          <option value="Work">
          <option value="Personal">
          <option value="Ideas">
          <option value="Study">
          <option value="Projects">
          <option value="Meeting Notes">
          <option value="Reminders">
        </datalist>
      </div>

      <div class="form-group">
        <label for="content">
          <i class="fas fa-align-left"></i>
          Content
        </label>
        <textarea 
          id="content" 
          name="content" 
          required
          class="form-textarea"
          rows="8"
        ><%= note.content %></textarea>
        <div class="textarea-footer">
          <span class="char-count" id="char-count"><%= note.content.length %> characters</span>
        </div>
      </div>

      <div class="form-actions">
        <a href="/" class="btn btn-outline">
          <i class="fas fa-arrow-left"></i>
          Cancel
        </a>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-save"></i>
          Update Note
        </button>
      </div>
    </form>
  </div>
</div>

<script>
  // Character counter
  const textarea = document.getElementById('content');
  const charCount = document.getElementById('char-count');
  
  textarea.addEventListener('input', function() {
    const count = this.value.length;
    charCount.textContent = `${count} characters`;
    
    if (count > 1000) {
      charCount.style.color = 'var(--danger)';
    } else if (count > 500) {
      charCount.style.color = 'var(--warning)';
    } else {
      charCount.style.color = 'var(--text-secondary)';
    }
  });

  // Auto-resize textarea
  textarea.addEventListener('input', function() {
    this.style.height = 'auto';
    this.style.height = this.scrollHeight + 'px';
  });
</script>